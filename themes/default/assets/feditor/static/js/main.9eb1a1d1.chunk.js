(this["webpackJsonpform-editor"]=this["webpackJsonpform-editor"]||[]).push([[0],{26:function(e,t,n){e.exports=n(37)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(14),o=n.n(c),i=n(4),l=n.n(i),u=n(3),s=n(5),f=n(2),m=n(25),d=n(15),p=n.n(d),b=n(18),v=n.n(b),h=function(e){var t=e.attributes,n=e.children,a=e.element,c=Object(s.d)();switch(a.type){case"block-quote":return r.a.createElement("blockquote",t,n);case"bulleted-list":return r.a.createElement("ul",t,n);case"heading-one":return r.a.createElement("h1",t,n);case"heading-two":return r.a.createElement("h2",t,n);case"div":return r.a.createElement("div",Object.assign({style:a.style},t),n);case"image":return r.a.createElement("img",Object.assign({src:a.url,style:a.style},t));case"list-item":return r.a.createElement("li",t,n);case"numbered-list":return r.a.createElement("ol",t,n);case"table":return r.a.createElement("table",null,r.a.createElement("tbody",t,n));case"table-row":return r.a.createElement("tr",t,n);case"table-cell":return r.a.createElement("td",t,n);case"input":return r.a.createElement("span",null,r.a.createElement("input",Object.assign({type:"text"},t,{readOnly:!0,value:a.customField})),n);case"checkbox":return r.a.createElement("span",null,r.a.createElement("input",Object.assign({type:"checkbox"},t,{value:a.checked,onChange:function(){var e=s.b.findPath(c,a);f.i.setNodes(c,{checked:!a.checked},{at:e})}})),n);default:return r.a.createElement("p",t,n)}},g=function(e){var t=e.attributes,n=e.children,a=e.leaf;return a.bold&&(n=r.a.createElement("strong",null,n)),a.code&&(n=r.a.createElement("code",null,n)),a.italic&&(n=r.a.createElement("em",null,n)),a.underline&&(n=r.a.createElement("u",null,n)),r.a.createElement("span",t,n)},E={"mod+b":"bold","mod+i":"italic","mod+u":"underline","mod+`":"code"},j=n(13),O=n(7),y=n(12),w=n(10),x=n(6);function k(){var e=Object(y.a)(["\n      position: -webkit-sticky;\n      position: sticky;\n      top: 0;\n      background-color: white;\n      padding: 1px 18px 1px;\n      margin: 0 -20px;\n      border-bottom: 2px solid #eee;\n      margin-bottom: 20px;\n      "]);return k=function(){return e},e}function N(){var e=Object(y.a)(["\n        & > * {\n          display: inline-block;\n        }\n        & > * + * {\n          margin-left: 15px;\n        }\n      "]);return N=function(){return e},e}function C(){var e=Object(y.a)(["\n        white-space: pre-wrap;\n        margin: 0 -20px 10px;\n        padding: 10px 20px;\n        font-size: 14px;\n        background: #f8f8e8;\n      "]);return C=function(){return e},e}function z(){var e=Object(y.a)(["\n        font-size: 24px;\n        vertical-align: text-bottom;\n        color: #5f6368;\n      "]);return z=function(){return e},e}function S(){var e=Object(y.a)(["\n            color: #404040;\n            font: 12px monospace;\n            white-space: pre-wrap;\n            padding: 10px 20px;\n            div {\n              margin: 0 0 0.5em;\n            }\n          "]);return S=function(){return e},e}function D(){var e=Object(y.a)(["\n            font-size: 14px;\n            padding: 5px 20px;\n            color: #404040;\n            border-top: 2px solid #eeeeee;\n            background: #f8f8f8;\n          "]);return D=function(){return e},e}function _(){var e=Object(y.a)(["\n            margin: 30px -20px 0;\n          "]);return _=function(){return e},e}function A(){var e=Object(y.a)(["\n          display: ",";\n            margin: ",";\n          cursor: pointer;\n          color: ",";\n        "]);return A=function(){return e},e}var I=r.a.forwardRef((function(e,t){var n=e.className,a=e.active,c=e.reversed,o=e.block,i=Object(w.a)(e,["className","active","reversed","block"]);return r.a.createElement("p",Object.assign({},i,{ref:t,className:Object(x.b)(n,Object(x.a)(A(),o?"block":"",o?"5px":"",c?a?"white":"#aaa":a?"black":"#ccc"))}))})),M=(r.a.forwardRef((function(e,t){var n=e.className,a=e.value,c=Object(w.a)(e,["className","value"]),o=a.document.nodes.map((function(e){return e.text})).toArray().join("\n");return r.a.createElement("div",Object.assign({ref:t},c,{className:Object(x.b)(n,Object(x.a)(_()))}),r.a.createElement("div",{className:Object(x.a)(D())},"Slate's value as text"),r.a.createElement("div",{className:Object(x.a)(S())},o))})),r.a.forwardRef((function(e,t){var n=e.className,a=Object(w.a)(e,["className"]);return r.a.createElement("span",Object.assign({},a,{ref:t,className:Object(x.b)("material-icons",n,Object(x.a)(z()))}))}))),R=(r.a.forwardRef((function(e,t){var n=e.className,a=Object(w.a)(e,["className"]);return r.a.createElement("div",Object.assign({},a,{ref:t,className:Object(x.b)(n,Object(x.a)(C()))}))})),r.a.forwardRef((function(e,t){var n=e.className,a=Object(w.a)(e,["className"]);return r.a.createElement("div",Object.assign({},a,{ref:t,className:Object(x.b)(n,Object(x.a)(N()))}))}))),T=function(e){var t=e.children;return o.a.createPortal(t,document.body)},B=r.a.forwardRef((function(e,t){var n=e.className,a=Object(w.a)(e,["className"]);return r.a.createElement(R,Object.assign({},a,{ref:t,className:Object(x.b)(n,Object(x.a)(k()))}))})),q=function(e){var t=f.a.nodes(e,{match:function(e){return"input"===e.type}});return!!Object(u.a)(t,1)[0]},U=function(e,t){q(e)&&function(e){f.i.unwrapNodes(e,{match:function(e){return"input"===e.type}})}(e);var n=e.selection,a=n&&f.g.isCollapsed(n),r={type:"input",customField:t,children:a?[{text:""}]:[]};a?f.i.insertNodes(e,r):(f.i.wrapNodes(e,r,{split:!0}),f.i.collapse(e,{edge:"end"}))},F=function(e){var t=f.a.nodes(e,{match:function(e){return"checkbox"===e.type}});return!!Object(u.a)(t,1)[0]},L=function(e,t){F(e)&&function(e){f.i.unwrapNodes(e,{match:function(e){return"checkbox"===e.type}})}(e);var n=e.selection,a=n&&f.g.isCollapsed(n),r={type:"checkbox",checked:t,children:a?[{text:""}]:[]};a?f.i.insertNodes(e,r):(f.i.wrapNodes(e,r,{split:!0}),f.i.collapse(e,{edge:"end"}))},J=["numbered-list","bulleted-list"],H=function(e){var t=e.icon,n=Object(s.e)(),a=n.selection;if(a&&f.g.isCollapsed(a)){var c=f.a.nodes(n,{match:function(e){return"table"===e.type}});Object(u.a)(c,1)[0]&&(t="delete_sweep")}return r.a.createElement(I,{active:q(n),onMouseDown:function(e){if(e.preventDefault(),a&&f.g.isCollapsed(a)){var t=f.a.nodes(n,{match:function(e){return"table"===e.type}}),r=Object(u.a)(t,1)[0];r&&f.i.removeNodes(n,{at:r[1]})}}},r.a.createElement(M,null,t))},P=function(e){var t=e.icon,n=Object(s.e)();return r.a.createElement(I,{active:q(n),onMouseDown:function(e){e.preventDefault();!function(e,t){e.selection&&U(e,t)}(n," ")}},r.a.createElement(M,null,t))},G=function(e){var t=e.icon,n=Object(s.e)();return r.a.createElement(I,{active:F(n),onMouseDown:function(e){e.preventDefault();!function(e,t){e.selection&&L(e,t)}(n,!1)}},r.a.createElement(M,null,t))},V=function(e){var t=e.icon,n=e.value,a=e.html,c=e.option;return r.a.createElement(I,{onMouseDown:function(e){e.preventDefault(),fetch(window.fbSaveUrl,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({bfdata:n,html:a,recordset:c})}).then((function(e){}))}},r.a.createElement(M,null,t))},X=function(e){var t=e.format,n=e.icon,a=Object(s.e)();return r.a.createElement(I,{onMouseDown:function(e){e.preventDefault(),"undo"===t?a.undo():"redo"===t?a.redo():alert("Document saved")}},r.a.createElement(M,null,n))},Y=function(e){var t=e.format,n=e.icon,a=Object(s.e)();return r.a.createElement(I,{active:ee(a,t),onMouseDown:function(e){e.preventDefault(),Q(a,t)}},r.a.createElement(M,null,n))},K=function(e){var t=e.format,n=e.icon,a=Object(s.e)();return r.a.createElement(I,{active:te(a,t),onMouseDown:function(e){e.preventDefault(),Z(a,t)}},r.a.createElement(M,null,n))},W=function(e){var t=e.attr,n=e.value,a=(e.format,e.icon),c=Object(s.e)(),o=Object(O.a)({},t,n);return r.a.createElement(I,{onMouseDown:function(e){e.preventDefault(),$(c,o)}},r.a.createElement(M,null,a))},Q=function(e,t){var n=ee(e,t),a=J.includes(t);if(f.i.unwrapNodes(e,{match:function(e){return J.includes(e.type)},split:!0}),f.i.setNodes(e,{type:n?"paragraph":a?"list-item":t}),!n&&a){var r={type:t,children:[]};f.i.wrapNodes(e,r)}},Z=function(e,t){te(e,t)?f.a.removeMark(e,t):f.a.addMark(e,t,!0)},$=function(e,t){var n=Object.keys(t)[0];if("fontSize"==n)if(e.style&&n in e.style){var a=parseInt(e.style[n].match(/\d+/)[0]);t[n]=parseInt(t[n])+parseInt(e.style[n].match(/\d+/)[0])+"px",console.log(a)}else t[n]=parseInt(t[n])+16+"px";var r=e.style?Object(j.a)({},e.style,{},t):t;e.style=r,f.i.unwrapNodes(e,{match:function(e){return J.includes(e.type)},split:!0}),f.i.setNodes(e,{type:"div",style:r})},ee=function(e,t){var n=f.a.nodes(e,{match:function(e){return e.type===t}});return!!Object(u.a)(n,1)[0]},te=function(e,t){var n=f.a.marks(e);return!!n&&!0===n[t]},ne=n(9),ae=n(19),re=n(20),ce=n(16),oe={bold:r.a.createElement(ne.e,{size:20}),italic:r.a.createElement(ne.f,{size:20}),strikethrough:r.a.createElement(ne.m,{size:20}),underline:r.a.createElement(ne.j,{size:20}),headingOne:r.a.createElement(ae.a,{size:20}),headingTwo:r.a.createElement(ae.b,{size:20}),headingThree:r.a.createElement(ae.c,{size:20}),blockquote:r.a.createElement(ne.i,{size:20}),superscript:r.a.createElement(re.b,{size:15}),subscript:r.a.createElement(re.a,{size:15}),alignLeft:r.a.createElement(ne.c,{size:20}),alignCenter:r.a.createElement(ne.b,{size:20}),alignRight:r.a.createElement(ne.d,{size:20}),orderedList:r.a.createElement(ne.h,{size:20}),unorderedList:r.a.createElement(ne.g,{size:20}),link:r.a.createElement(ne.l,{size:20}),image:r.a.createElement(ne.k,{size:20}),video:r.a.createElement(ne.n,{size:20}),add:r.a.createElement(ne.a,{size:20}),table:r.a.createElement(ce.d,{size:20}),row:r.a.createElement(ce.b,{size:20}),column:r.a.createElement(ce.c,{size:20}),removeTable:r.a.createElement(ce.a,{size:20})},ie=function(e){var t=e.icon;return oe[t]};var le=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var t=function(t){var n,a=t.target;(null===e||void 0===e?void 0:null===(n=e.current)||void 0===n?void 0:n.contains(a))||c(!1)};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}),[]),[r,c]},ue=n(17),se=function e(t){var n=this;Object(ue.a)(this,e),this.insertTable=function(e,t){var a=f.a.nodes(n.editor,{match:function(e){return!f.a.isEditor(e)&&f.b.isElement(e)&&"table"===e.type},mode:"highest"});if(!Object(u.a)(a,1)[0]&&e&&t){var r=Array.from({length:e},(function(){return Array.from({length:t},(function(){return""}))})),c=me(r);f.i.insertNodes(n.editor,c,{mode:"highest"}),f.i.insertNodes(n.editor,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}},this.insertCells=function(e,t,a){var r=Array.from(e.children,(function(e){return Array.from(e.children,(function(e){return e.children[0].text}))})),c=r[0].length;"row"===a?r.push(Array(c).fill("")):r=Array.from(r,(function(e){return e.push(""),e}));var o=me(r);f.i.insertNodes(n.editor,o,{at:t})},this.removeTable=function(){f.i.removeNodes(n.editor,{match:function(e){return!f.a.isEditor(e)&&f.b.isElement(e)&&"table"===e.type},mode:"highest"})},this.insertRow=function(){var e=n.editor.selection;if(e&&f.g.isCollapsed(e)){var t=f.a.nodes(n.editor,{match:function(e){return!f.a.isEditor(e)&&f.b.isElement(e)&&"table"===e.type}}),a=Object(u.a)(t,1)[0];if(a){var r=Object(u.a)(a,2),c=r[0],o=r[1];n.removeTable(),n.insertCells(c,o,"row")}}},this.insertColumn=function(){var e=n.editor.selection;if(e&&f.g.isCollapsed(e)){var t=f.a.nodes(n.editor,{match:function(e){return!f.a.isEditor(e)&&f.b.isElement(e)&&"table"===e.type}}),a=Object(u.a)(t,1)[0];if(a){var r=Object(u.a)(a,2),c=r[0],o=r[1];n.removeTable(),n.insertCells(c,o,"columns")}}},this.editor=t},fe=function(e){return{type:"table-cell",children:[{text:e}]}},me=function(e){return{type:"table",children:Array.from(e,(function(e){return function(e){return{type:"table-row",children:Array.from(e,(function(e){return fe(e)}))}}(e)}))}},de=(n(35),function(e){var t=e.editor,n=Object(a.useRef)(),c=Object(a.useState)(),o=Object(u.a)(c,2),i=o[0],l=o[1],s=le(n),m=Object(u.a)(s,2),d=m[0],p=m[1],b=Object(a.useState)({row:0,column:0}),v=Object(u.a)(b,2),h=v[0],g=v[1],E=Object(a.useState)(Array.from({length:6},(function(){return Array.from({length:6},(function(e,t){return{bg:"lightGray",column:t}}))}))),j=Object(u.a)(E,2),O=j[0],y=j[1];Object(a.useEffect)((function(){var e=Array.from({length:6},(function(e,t){return Array.from({length:6},(function(e,n){return{bg:t+1<=h.row&&n+1<=h.column?"orange":"lightgray",column:n}}))}));y(e)}),[h]);var w=new se(t);return r.a.createElement("div",{ref:n,className:"popup-wrapper"},r.a.createElement("button",{style:{border:d?"1px solid lightgray":"none"},title:"table",onClick:function(){l(t.selection),p((function(e){return!e}))}},r.a.createElement(ie,{icon:"table"})),d&&r.a.createElement("div",{className:"popup"},h.row>=1&&r.a.createElement("div",null,r.a.createElement("i",null,"".concat(h.row," x ").concat(h.column))),r.a.createElement("div",{className:"table-input"},O.map((function(e,n){return e.map((function(e){var a=e.column,c=e.bg;return r.a.createElement("div",{onClick:function(){return i&&f.i.select(t,i),g({row:-1,column:-1}),w.insertTable(h.row,h.column),void p(!1)},onMouseOver:function(){return g({row:n+1,column:a+1})},className:"table-unit",style:{border:"1px solid ".concat(c)}})}))})))))}),pe=function(e){var t=e.children,n=e.format,a=e.active,c=Object(w.a)(e,["children","format","active"]);return r.a.createElement("button",Object.assign({className:a?"btnActive":"lol",title:n},c,{style:{width:"30px",height:"20px",margin:"0 2px"}}),t)},be=function(e,t){var n=f.a.nodes(e,{match:function(e){return!f.a.isEditor(e)&&f.b.isElement(e)&&e.type===t}});return!!Object(u.a)(n,1)[0]},ve=function(e){var t=e.editor,n=e.format,c=Object(a.useRef)(),o=le(c),i=Object(u.a)(o,2),l=i[0],s=i[1],m=Object(a.useState)({url:"http://[::1]/Custom_styles/simplicity/themes/default/assets/images/logo.png",width:"100",height:""}),d=Object(u.a)(m,2),p=d[0],b=d[1];return r.a.createElement("div",{ref:c,className:"popup-wrapper"},r.a.createElement(pe,{active:be(t,n),style:{border:l?"1px solid lightgray":"",borderBottom:"none"},format:n,onClick:function(e){e.preventDefault(),s((function(e){return!e}))}},r.a.createElement(ie,{icon:n})),l&&r.a.createElement("div",{className:"popup"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e,t,n){var a=t.url,r=t.width,c=t.height;if(a){t.width=r?"".concat(r,"px"):"100%",t.height=c?"".concat(c,"px"):"auto";var o,i,l="image"==n?{type:"image",alt:"EditorImage",url:(i=t).url,width:i.width,height:i.height,children:[{text:""}]}:{type:"video",url:(o=t).url,width:o.width,height:o.height,children:[{text:""}]};console.log(l),f.i.insertNodes(e,l,{select:!0}),f.i.insertNodes(e,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}}(t,Object(j.a)({},p),n),s(!1),b({url:"http://[::1]/Custom_styles/simplicity/themes/default/assets/images/logo.png",width:"",height:""})}},r.a.createElement("input",{type:"text",placeholder:"Enter url",value:p.url,onChange:function(e){return b((function(t){return Object(j.a)({},t,{url:e.target.value})}))}}),r.a.createElement("input",{type:"text",placeholder:"Enter width of frame",value:p.width,onChange:function(e){return b((function(t){return Object(j.a)({},t,{width:e.target.value})}))}}),r.a.createElement("input",{type:"text",placeholder:"Enter height of frame",value:p.height,onChange:function(e){return b((function(t){return Object(j.a)({},t,{height:e.target.value})}))}}),r.a.createElement(pe,{type:"submit"},"Save"))))};function he(){var e=Object(y.a)(["\n            padding: 8px 7px 6px;\n            position: absolute;\n            z-index: 1;\n            top: -10000px;\n            left: -10000px;\n            margin-top: -6px;\n            opacity: 0;\n            background-color: #5f6368;\n            border-radius: 4px;\n            transition: opacity 0.75s;\n          "]);return he=function(){return e},e}var ge=function(e){var t=e.format,n=Object(s.e)();return r.a.createElement(I,{reversed:!0,block:!0,active:!0,onMouseDown:function(e){e.preventDefault(),Ee(n,t),function(e,t){t.onChange(e)}(t,n)}},t)},Ee=function(e,t){var n=je(e,t);f.i.setNodes(e,Object(O.a)({},t,!n||null),{match:f.h.isText,split:!0})},je=function(e,t){var n=f.a.nodes(e,{match:function(e){return!0===e[t]},mode:"all"});return!!Object(u.a)(n,1)[0]},Oe=function(e){var t=e.position,n=e.option,c=Object(a.useRef)(),o=Object(s.e)(),i=Object(a.useState)([]),f=Object(u.a)(i,2),m=f[0],d=f[1];Object(a.useEffect)((function(){var e=c.current;null!==t?(e.style.opacity=1,e.style.top="".concat(t[1]+window.pageYOffset-e.offsetHeight-10,"px"),e.style.left="".concat(t[0]+window.pageXOffset-e.offsetWidth/2,"px")):e.removeAttribute("style")}),[o,t]),Object(a.useEffect)((function(){var e=window.recordset,t=encodeURIComponent(e||n),a=window.fbGetListUrl||"http://rafaello.co/list.php";!function(){var e,n;l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(fetch("".concat(a,"?option=").concat(t)));case 2:return e=r.sent,r.next=5,l.a.awrap(e.json());case 5:n=r.sent,d(JSON.parse(n));case 7:case"end":return r.stop()}}))}()}),[n]);var p=m.map((function(e,t){return r.a.createElement(ge,{format:e,key:t})}));return r.a.createElement(T,null,r.a.createElement(R,{ref:c,className:Object(x.a)(he())},p))},ye=function(e){var t=e.parentCallback,n=window.recordset||"none",a=window.recordsets||[{value:"none",name:"Select Recordset"},{value:"lease",name:"Lease"},{value:"property",name:"Property"}],c=a.map((function(e,t){return r.a.createElement("option",{value:e.value,key:t},e.name)}));return r.a.createElement("select",{className:"fbRecordSet",onChange:function(e){var n;n=e.target.value,t(n)},defaultValue:n},c)},we=function(e){e.parentCallback;var t=Object(s.e)(),n=[{value:"'Roboto', sans-serif",name:"roboto"},{value:"Arial,Helvetica,sans-serif",name:"Arial"},{value:'Montserrat, Segoe_UI, "Segoe UI", Arial, Helvetica, sans-serif',name:"Montserrat"},{value:'Segoe_UI, "Segoe UI", Arial, Helvetica, sans-serif',name:"Segoe_UI"}].map((function(e,t){return r.a.createElement("option",{value:e.value,key:t},e.name)}));return r.a.createElement("select",{className:"fontselect",onChange:function(e){e.preventDefault(),console.log(e.target.value);var n={fontFamily:e.target.value};$(t,n)},defaultValue:"Roboto"},n)},xe=(n(36),function e(t){if(f.h.isText(t))return v()(t.text);if((!t||0!==t.length)&&void 0!==t.children[0]){var n=t.children.map((function(t){return e(t)})).join("");switch(t.type){case"block-quote":return"<blockquote><p>".concat(n,"</p></blockquote>");case"bulleted-list":return"<ul>".concat(n,"</ul>");case"numbered-list":return"<ol>".concat(n,"</ol>");case"list-item":return"<li>".concat(n,"</li>");case"heading-one":return"<h1>".concat(n,"</h1>");case"heading-two":return"<h2>".concat(n,"</h2>");case"paragraph":return"<p>".concat(n,"</p>");case"div":return"<div style=\"textAlign: 'center'\">".concat(n,"</div>");case"table":return"<table><tbody>".concat(n,"</tbody></table>");case"table-row":return"<tr>".concat(n,"</tr>");case"table-cell":return"<td>".concat(n,"</td>");case"input":return'<span><input type="text" value="'.concat(v()(t.customField),'"/></span>');case"checkbox":return'<span><input type="checkbox" value="'.concat(v()(t.checked),'"/></span>');default:return n}}}),ke=function(){var e=Object(a.useState)([{type:"paragraph",children:[{text:""}]}]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),d=i[0],b=i[1],v=Object(a.useState)(window.recordset||"none"),j=Object(u.a)(v,2),O=j[0],y=j[1],w=Object(a.useState)([]),x=Object(u.a)(w,2),k=x[0],N=x[1],C=Object(a.useCallback)((function(e){return r.a.createElement(h,e)}),[]),z=Object(a.useCallback)((function(e){return r.a.createElement(g,e)}),[]),S=Object(a.useMemo)((function(){return function(e){var t=e.isInline,n=e.deleteBackward;return e.isInline=function(e){return"checkbox"===e.type||t(e)},e.deleteBackward=function(t){var a=e.selection;if(a&&f.g.isCollapsed(a)){var r=f.a.nodes(e,{match:function(e){return"checkbox"===e.type}}),c=Object(u.a)(r,1)[0];if(c)return f.i.removeNodes(e,{at:c[1]}),void console.log(e)}n(t)},e}(function(e){var t=e.isInline,n=e.deleteBackward,a=e.onChange;return e.isInline=function(e){return"input"===e.type||t(e)},e.deleteBackward=function(t){var a=e.selection;if(a&&f.g.isCollapsed(a)){var r=f.a.nodes(e,{match:function(e){return"input"===e.type}}),c=Object(u.a)(r,1)[0];if(c)return void f.i.removeNodes(e,{at:c[1]})}n(t)},e.onChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=f.a.nodes(e,{match:function(e){return"input"===e.type}}),r=Object(u.a)(n,1),c=r[0];c&&0!==t?f.i.setNodes(e,{customField:t},{match:function(e){return"input"===e.type}}):a(t)},e}(function(e){var t=e.deleteBackward,n=e.deleteForward,a=e.insertBreak;return e.deleteBackward=function(n){var a=e.selection;if(a&&f.g.isCollapsed(a)){var r=f.a.nodes(e,{match:function(e){return"table-cell"===e.type}}),c=Object(u.a)(r,1)[0];if(c){var o=Object(u.a)(c,2)[1],i=f.a.start(e,o);if(f.f.equals(a.anchor,i))return}}t(n)},e.deleteForward=function(t){var a=e.selection;if(a&&f.g.isCollapsed(a)){var r=f.a.nodes(e,{match:function(e){return"table-cell"===e.type}}),c=Object(u.a)(r,1)[0];if(c){var o=Object(u.a)(c,2)[1],i=f.a.end(e,o);if(f.f.equals(a.anchor,i))return}}n(t)},e.insertBreak=function(){if(e.selection){var t=f.a.nodes(e,{match:function(e){return"table"===e.type}});if(Object(u.a)(t,1)[0])return}a()},e}(Object(m.a)(Object(s.f)(Object(f.j)())))))}),[]);Object(a.useEffect)((function(){!function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(fetch(window.fbGetUrl||"http://rafaello.co/test.php"));case 2:return e=n.sent,n.next=5,l.a.awrap(e.json());case 5:t=n.sent,c(JSON.parse(t));case 7:case"end":return n.stop()}}))}()}),[]),Object(a.useEffect)((function(){var e=n.map((function(e){return xe({children:[e]})})).join("\n");N(e)}),[n]);var D=function(e){y(e)};return r.a.createElement("div",{className:"main"},r.a.createElement(s.c,{editor:S,value:n,onChange:function(e){return c(e)}},r.a.createElement(B,null,r.a.createElement(V,{icon:"save",value:n,html:k,option:O}),r.a.createElement(X,{format:"undo",icon:"undo"}),r.a.createElement(X,{format:"redo",icon:"redo"}),r.a.createElement(K,{format:"bold",icon:"format_bold"}),r.a.createElement(K,{format:"italic",icon:"format_italic"}),r.a.createElement(K,{format:"underline",icon:"format_underlined"}),r.a.createElement(K,{format:"code",icon:"code"}),r.a.createElement(Y,{format:"heading-one",icon:"looks_one"}),r.a.createElement(Y,{format:"heading-two",icon:"looks_two"}),r.a.createElement(W,{format:"align-center",attr:"textAlign",value:"left",icon:"format_align_left"}),r.a.createElement(W,{format:"align-center",attr:"textAlign",value:"center",icon:"format_align_center"}),r.a.createElement(W,{format:"align-center",attr:"textAlign",value:"right",icon:"format_align_right"}),r.a.createElement(W,{format:"align-center",attr:"fontSize",value:"1",icon:"text_increase"}),r.a.createElement(W,{format:"align-center",attr:"fontSize",value:"-1",icon:"text_decrease"}),r.a.createElement(Y,{format:"block-quote",icon:"format_quote"}),r.a.createElement(Y,{format:"numbered-list",icon:"format_list_numbered"}),r.a.createElement(Y,{format:"bulleted-list",icon:"format_list_bulleted"}),r.a.createElement(G,{format:"checkbox",icon:"check"}),r.a.createElement(P,{icon:"text_fields"}),r.a.createElement(de,{key:"tableButton",editor:S}),r.a.createElement(ve,{key:"image",format:"image",editor:S}),r.a.createElement(H,{format:"table-remove"}),r.a.createElement(ye,{parentCallback:D}),r.a.createElement(we,{parentCallback:D})),r.a.createElement("div",{onMouseDown:function(){b(null)}},r.a.createElement(Oe,{position:d,option:O})),r.a.createElement(s.a,{renderElement:C,renderLeaf:z,placeholder:"Enter some rich text\u2026",spellCheck:!0,autoFocus:!0,onKeyDown:function(e){for(var t in E){if(p()(t,e))e.preventDefault(),Z(S,E[t])}},onMouseDown:function(e){"INPUT"===e.target.tagName&&"text"===e.target.type?b([e.pageX,e.pageY]):b(null)}})))};o.a.render(r.a.createElement(ke,null),document.getElementById("fbroot"))}},[[26,1,2]]]);
//# sourceMappingURL=main.c527e38a.chunk.js.map